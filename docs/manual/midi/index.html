<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>MIDI Support - Faust Documentation</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="/css/quickref.css" rel="stylesheet">
        <link href="/rail/railroad-diagrams.css" rel="stylesheet">

        <script src="../../js/jquery-3.6.0.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../.."><img src="../../img/faustText.svg" width="150px"> </a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Manual <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../introduction/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../overview/" class="dropdown-item">Overview of the Faust Universe</a>
</li>
                                    
<li>
    <a href="../quick-start/" class="dropdown-item">Quick Start</a>
</li>
                                    
<li>
    <a href="../syntax/" class="dropdown-item">Faust Syntax</a>
</li>
                                    
<li>
    <a href="../errors/" class="dropdown-item">Error Messages</a>
</li>
                                    
<li>
    <a href="../compiler/" class="dropdown-item">Using the Compiler</a>
</li>
                                    
<li>
    <a href="../options/" class="dropdown-item">Compiler Options</a>
</li>
                                    
<li>
    <a href="../tools/" class="dropdown-item">faust2[...] Tools</a>
</li>
                                    
<li>
    <a href="../architectures/" class="dropdown-item">Architecture Files</a>
</li>
                                    
<li>
    <a href="../embedding/" class="dropdown-item">Embedding the Compiler</a>
</li>
                                    
<li>
    <a href="../optimizing/" class="dropdown-item">Optimizing the Code</a>
</li>
                                    
<li>
    <a href="../debugging/" class="dropdown-item">Debugging the Code</a>
</li>
                                    
<li>
    <a href="../deploying/" class="dropdown-item">Deploying on the Web</a>
</li>
                                    
<li>
    <a href="../remote/" class="dropdown-item">Remote Compilation</a>
</li>
                                    
<li>
    <a href="../mathdoc/" class="dropdown-item">Mathematical Documentation</a>
</li>
                                    
<li>
    <a href="../osc/" class="dropdown-item">OSC Support</a>
</li>
                                    
<li>
    <a href="../http/" class="dropdown-item">HTTP Support</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">MIDI Support</a>
</li>
                                    
<li>
    <a href="../soundfiles/" class="dropdown-item">Soundfiles Support</a>
</li>
                                    
<li>
    <a href="../community/" class="dropdown-item">Community</a>
</li>
                                    
<li>
    <a href="../faq/" class="dropdown-item">Frequently Asked Questions</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Examples <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../examples/ambisonics/" class="dropdown-item"> ambisonics </a>
</li>
                                    
<li>
    <a href="../../examples/analysis/" class="dropdown-item"> analysis </a>
</li>
                                    
<li>
    <a href="../../examples/bela/" class="dropdown-item"> bela </a>
</li>
                                    
<li>
    <a href="../../examples/delayEcho/" class="dropdown-item"> delayEcho </a>
</li>
                                    
<li>
    <a href="../../examples/dynamic/" class="dropdown-item"> dynamic </a>
</li>
                                    
<li>
    <a href="../../examples/filtering/" class="dropdown-item"> filtering </a>
</li>
                                    
<li>
    <a href="../../examples/gameaudio/" class="dropdown-item"> gameaudio </a>
</li>
                                    
<li>
    <a href="../../examples/generator/" class="dropdown-item"> generator </a>
</li>
                                    
<li>
    <a href="../../examples/misc/" class="dropdown-item"> misc </a>
</li>
                                    
<li>
    <a href="../../examples/phasing/" class="dropdown-item"> phasing </a>
</li>
                                    
<li>
    <a href="../../examples/physicalModeling/" class="dropdown-item"> physicalModeling </a>
</li>
                                    
<li>
    <a href="../../examples/pitchShifting/" class="dropdown-item"> pitchShifting </a>
</li>
                                    
<li>
    <a href="../../examples/psychoacoustic/" class="dropdown-item"> psychoacoustic </a>
</li>
                                    
<li>
    <a href="../../examples/reverb/" class="dropdown-item"> reverb </a>
</li>
                                    
<li>
    <a href="../../examples/SAM/" class="dropdown-item"> SAM </a>
</li>
                                    
<li>
    <a href="../../examples/smartKeyboard/" class="dropdown-item"> smartKeyboard </a>
</li>
                                    
<li>
    <a href="../../examples/spat/" class="dropdown-item"> spat </a>
</li>
                                    
<li>
    <a href="../../rsrc/examples.zip" class="dropdown-item"> Download examples </a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../workshops/2020-04-10-faust-juce/" class="dropdown-item">Faust & JUCE</a>
</li>
                                    
<li>
    <a href="../../tutorials/teensy/" class="dropdown-item">DSP on the Teensy With Faust</a>
</li>
                                    
<li>
    <a href="../../tutorials/esp32/" class="dropdown-item">DSP on the ESP-32 With Faust</a>
</li>
                                    
<li>
    <a href="../../tutorials/basic-osc/" class="dropdown-item">Making a Sine Oscillator From Scratch</a>
</li>
                                    
<li>
    <a href="../../tutorials/summation/" class="dropdown-item">RMS and Summation in Faust</a>
</li>
                                    
<li>
    <a href="../../tutorials/box-api/" class="dropdown-item">Using the box API</a>
</li>
                                    
<li>
    <a href="../../tutorials/signal-api/" class="dropdown-item">Using the signal API</a>
</li>
                                    
<li>
    <a href="../../tutorials/julia/" class="dropdown-item">Using Faust in Julia</a>
</li>
                                    
<li>
    <a href="../../tutorials/cmajor/" class="dropdown-item">Using Faust in Cmajor</a>
</li>
                                    
<li>
    <a href="../../tutorials/jsfx/" class="dropdown-item">Using Faust in JSFX</a>
</li>
                                    
<li>
    <a href="../../tutorials/rnbo/" class="dropdown-item">Using Faust in RNBO with codebox~</a>
</li>
                                    
<li>
    <a href="../../tutorials/debugging/" class="dropdown-item">Advanced debugging with interp-tracer</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Workshops <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../workshops/2018-12-01-paw/" class="dropdown-item"> 2018-12-01 PAW </a>
</li>
                                    
<li>
    <a href="../../workshops/2020-03-24-faust-citi/" class="dropdown-item"> 2020-03-24 CITI </a>
</li>
                                    
<li>
    <a href="../../workshops/2020-04-10-faust-101/" class="dropdown-item"> 2020-04-10 Faust 101 </a>
</li>
                                    
<li>
    <a href="../../workshops/2020-04-10-faust-juce/" class="dropdown-item"> 2020-04-10 Faust & JUCE </a>
</li>
                                    
<li>
    <a href="../../workshops/2020-11-21-faust-vcvrack/" class="dropdown-item"> 2020-11-21 Faust & VCV Rack </a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        

        <div class="container">
            <div class="row"><div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#midi-and-polyphony-support" class="nav-link">MIDI and Polyphony Support</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#configuring-midi-in-faust" class="nav-link">Configuring MIDI in Faust</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#midictrl-num-or-midictrl-num-chan-metadata" class="nav-link">[midi:ctrl num] or [midi:ctrl num chan] Metadata</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#midikeyon-midikey-or-midikeyon-midikey-chan-metadata" class="nav-link">[midi:keyon midikey] or [midi:keyon midikey chan] Metadata</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#midikeyoff-midikey-or-midikeyoff-midikey-chan-metadata" class="nav-link">[midi:keyoff midikey] or [midi:keyoff midikey chan] Metadata</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#midikey-midikey-or-midikey-midikey-chan-metadata" class="nav-link">[midi:key midikey] or [midi:key midikey chan] Metadata</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#midikeypress-midikey-or-midikeypress-midikey-chan-metadata" class="nav-link">[midi:keypress midikey] or [midi:keypress midikey chan] Metadata</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#midichanpress-or-midichanpress-chan-metadata" class="nav-link">[midi:chanpress] or [midi:chanpress chan] Metadata</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#midipgm-or-midipgm-chan-metadata" class="nav-link">[midi:pgm] or [midi:pgm chan] Metadata</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#midipitchwheel-or-midipitchwheel-chan-metadata" class="nav-link">[midi:pitchwheel] or [midi:pitchwheel chan] Metadata</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#midistart-metadata" class="nav-link">[midi:start] Metadata</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#midistop-metadata" class="nav-link">[midi:stop] Metadata</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#midiclock-metadata" class="nav-link">[midi:clock] Metadata</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#midi-sync" class="nav-link">MIDI Sync</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#midi-polyphony-support" class="nav-link">MIDI Polyphony Support</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#standard-polyphony-parameters" class="nav-link">Standard Polyphony Parameters</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#configuring-and-activating-polyphony" class="nav-link">Configuring and Activating Polyphony</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#audio-effects-and-polyphonic-synthesizer" class="nav-link">Audio Effects and Polyphonic Synthesizer</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#polyphony-and-continuous-pitch" class="nav-link">Polyphony and Continuous Pitch</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#complete-example-sustain-pedal-and-additional-parameters" class="nav-link">Complete Example: Sustain Pedal and Additional Parameters</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9 main-container" role="main">

<h1 id="midi-and-polyphony-support">MIDI and Polyphony Support</h1>
<!-- TODO: something should be said about MIDI channels -->

<p>Similarly to <a href="../osc">OSC</a>, several Faust architectures also provide MIDI support. This allows Faust applications to be controlled from any MIDI device (or to control MIDI devices). MIDI is also the preferable way to control Polyphonic instruments.</p>
<!-- TODO: more about link between MIDI and polyphony in general -->

<h2 id="configuring-midi-in-faust">Configuring MIDI in Faust</h2>
<p>MIDI support can be added to any Faust program (as long as the target architecture supports it: see tables below) simply by adding the <code>[midi:on]</code> metadata to the <a href="../syntax/#standard-metadata">standard <code>options</code> metadata</a>:</p>
<pre><code>declare options &quot;[midi:on]&quot;;
</code></pre>
<p>or using the <code>-midi</code> option in most of <a href="https://faustdoc.grame.fr/manual/tools/">faust2xx</a> scripts.</p>
<!-- TODO: the tables indicating which architectures implement MIDI support should be placed here. -->

<p>MIDI control is configured in Faust using <a href="../syntax/#metadata">metadata</a> in <a href="../syntax/#user-interface-primitives-and-configuration">UI elements</a>. MIDI channels from 1 to 16 can be used at reception or sending time. <strong>By convention, using the channel = 0 value (or no channel setting) means "all channels".</strong> That is, at reception time, MIDI messages received on all channels can be used to control a given parameter, and at sending time, the MIDI message associated to a parameter will be sent on all channels.</p>
<p>MIDI metadata are decoded by a special architecture that parses incoming MIDI messages and updates the appropriate control parameters, or send MIDI messages when the UI elements (i.e., sliders, buttons, etc.) are moved. </p>
<p>All MIDI configuration metadata in Faust follow the following format:</p>
<pre><code>[midi:xxx yyy...]
</code></pre>
<p>This section provides a list of the most common metadata that can be used to configure of the MIDI behavior of a Faust program.</p>
<p>Below, when a 7-bit MIDI parameter is used to drive a <a href="../syntax/#button-primitive">button</a> or a <a href="../syntax/#checkbox-primitive">checkbox</a>, its maximum value (127) maps to 1 ("on") while its minimum value (0) maps to 0 ("off").</p>
<h3 id="midictrl-num-or-midictrl-num-chan-metadata"><code>[midi:ctrl num]</code> or <code>[midi:ctrl num chan]</code> Metadata</h3>
<p>The <code>[midi:ctrl num]</code> metadata assigns MIDI CC (control) to a specific UI element. When used in a slider/nentry or a bargraph, this metadata will map the UI element value to the {0, 127} range. When used with a button or a checkbox, 1 will be mapped to 127, 0 will be mapped to 0. The first <code>[midi:ctrl num]</code> version can receive messages on all channels, and will send on all channels. The second <code>[midi:ctrl num chan]</code> version can receive messages on <code>chan</code> only, and will send on the <code>chan</code> channel only (or all channels using the <code>chan = 0</code> value).</p>
<p><strong>Usage</strong></p>
<pre><code>foo = hslider(&quot;foo[midi:ctrl num chan]&quot;,...);
</code></pre>
<p>Where:</p>
<ul>
<li><code>num</code>: the MIDI CC number</li>
<li><code>chan</code>: optional, the MIDI channel number</li>
</ul>
<p><strong>Example</strong></p>
<p>In the following example, the frequency of a sawtooth wave oscillator is controlled by MIDI CC 11. When CC11=0, then the frequency is 200Hz, when CC11=127, then the frequency is 1000Hz.</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust0/exfaust0.svg" class="mx-auto d-block">
<faust-editor><!--

import("stdfaust.lib");
freq = hslider("frequency[midi:ctrl 11]",200,50,1000,0.01) : si.smoo;
process = os.sawtooth(freq);

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<h3 id="midikeyon-midikey-or-midikeyon-midikey-chan-metadata"><code>[midi:keyon midikey]</code> or <code>[midi:keyon midikey chan]</code> Metadata</h3>
<p>The <code>[midi:keyon midikey]</code> metadata assigns the velocity value of a key-on MIDI message received on a specific <code>midikey</code> to a Faust parameter. When used in a slider/nentry or a bargraph, this metadata will map the UI element value to the {0, 127} range. When used with a button or a checkbox, 1 will be mapped to 127, 0 will be mapped to 0. The first <code>[midi:keyon midikey]</code> version can receive messages on all channels, and will send on all channels. The second <code>[midi:keyon midikey chan]</code> version can receive messages on <code>chan</code> only, and will send on the <code>chan</code> channel only (or all channels using the <code>chan = 0</code> value).</p>
<p><strong>Usage</strong></p>
<pre><code>foo = hslider(&quot;foo[midi:keyon midikey chan]&quot;,...);
</code></pre>
<p>Where:</p>
<ul>
<li><code>midikey</code>: the MIDI key number</li>
<li><code>chan</code>: optional, the MIDI channel number</li>
</ul>
<p><strong>Example</strong></p>
<p>In the following example, the frequency of a sawtooth wave oscillator is controlled by the velocity value received on key 62 when a key-on message is sent. Therefore, the frequency will only be updated when MIDI key 62 is pressed.</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust1/exfaust1.svg" class="mx-auto d-block">
<faust-editor><!--

import("stdfaust.lib");
freq = hslider("frequency[midi:keyon 62]",200,50,1000,0.01) : si.smoo;
process = os.sawtooth(freq);

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<h3 id="midikeyoff-midikey-or-midikeyoff-midikey-chan-metadata"><code>[midi:keyoff midikey]</code> or <code>[midi:keyoff midikey chan]</code> Metadata</h3>
<p>The <code>[midi:keyoff midikey]</code> metadata assigns the velocity value of a key-off MIDI message received on a specific <code>midikey</code> to a Faust parameter. When used in a slider/nentry or a bargraph, this metadata will map the UI element value to the {0, 127} range. When used with a button or a checkbox, 1 will be mapped to 127, 0 will be mapped to 0. The first <code>[midi:keyoff midikey]</code> version can receive messages on all channels, and will send on all channels. The second <code>[midi:keyoff midikey chan]</code> version can receive messages on <code>chan</code> only, and will send on the <code>chan</code> channel only (or all channels using the <code>chan = 0</code> value).</p>
<p><strong>Usage</strong></p>
<pre><code>foo = hslider(&quot;foo[midi:keyoff midikey chan]&quot;,...);
</code></pre>
<p>Where:</p>
<ul>
<li><code>midikey</code>: the MIDI key number</li>
<li><code>chan</code>: optional, the MIDI channel number</li>
</ul>
<p><strong>Example</strong></p>
<p>In the following example, the frequency of a sawtooth wave oscillator is controlled by the velocity value received on key 62 when a key-off message is sent. Therefore, the frequency will only be updated when MIDI key 62 is released.</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust2/exfaust2.svg" class="mx-auto d-block">
<faust-editor><!--

import("stdfaust.lib");
freq = hslider("frequency[midi:keyoff 62]",200,50,1000,0.01) : si.smoo;
process = os.sawtooth(freq);

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<h3 id="midikey-midikey-or-midikey-midikey-chan-metadata"><code>[midi:key midikey]</code> or <code>[midi:key midikey chan]</code> Metadata</h3>
<p>The <code>[midi:key midikey]</code> metadata assigns the velocity value of key-on and key-off MIDI messages received on a specific <code>midikey</code> to a Faust parameter. When used in a slider/nentry or a bargraph, this metadata will map the UI element value to the {0, 127} range. When used with a button or a checkbox, 1 will be mapped to 127, 0 will be mapped to 0. The first <code>[midi:midikey midikey]</code> version can receive messages on all channels, and will send on all channels. The second <code>[midi:midikey midikey chan]</code> version can receive messages on <code>chan</code> only, and will send on the <code>chan</code> channel only (or all channels using the <code>chan = 0</code> value).</p>
<p><strong>Usage</strong></p>
<pre><code>foo = hslider(&quot;foo[midi:key midikey chan]&quot;,...);
</code></pre>
<p>Where:</p>
<ul>
<li><code>midikey</code>: the MIDI key number</li>
<li><code>chan</code>: optional, the MIDI channel number</li>
</ul>
<p><strong>Example</strong></p>
<p>In the following example, the frequency of a sawtooth wave oscillator is controlled by the velocity value received on key 62 when key-on and key-off messages are sent. Therefore, the frequency will only be updated when MIDI key 62 is pressed and released.</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust3/exfaust3.svg" class="mx-auto d-block">
<faust-editor><!--

import("stdfaust.lib");
freq = hslider("frequency[midi:key 62]",200,50,1000,0.01) : si.smoo;
process = os.sawtooth(freq);

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<h3 id="midikeypress-midikey-or-midikeypress-midikey-chan-metadata"><code>[midi:keypress midikey]</code> or <code>[midi:keypress midikey chan]</code> Metadata</h3>
<p>The <code>[midi:keypress midikey]</code> metadata assigns the pressure (after-touch) value of a specific <code>midikey</code> to a Faust parameter. When used in a slider/nentry or a bargraph, this metadata will map the UI element value to the {0, 127} range. When used with a button or a checkbox, 1 will be mapped to 127, 0 will be mapped to 0. The first <code>[midi:keypress midikey]</code> version can receive messages on all channels, will send on all channels. The second <code>[midi:keypress midikey chan]</code> version can receive messages on <code>chan</code> only, and will send on the <code>chan</code> channel only (or all channels using the <code>chan = 0</code> value).</p>
<p><strong>Usage</strong></p>
<pre><code>foo = hslider(&quot;foo[midi:keypress midikey chan]&quot;,...);
</code></pre>
<p>Where:</p>
<ul>
<li><code>midikey</code>: the MIDI key number</li>
<li><code>chan</code>: optional, the MIDI channel number</li>
</ul>
<p><strong>Example</strong></p>
<p>In the following example, the frequency of a sawtooth wave oscillator is controlled by the pressure (after-touch) values received on key 62.</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust4/exfaust4.svg" class="mx-auto d-block">
<faust-editor><!--

import("stdfaust.lib");
freq = hslider("frequency[midi:keypress 62]",200,50,1000,0.01) : si.smoo;
process = os.sawtooth(freq);

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<h3 id="midichanpress-or-midichanpress-chan-metadata"><code>[midi:chanpress]</code> or <code>[midi:chanpress chan]</code> Metadata</h3>
<p>The <code>[midi:chanpress]</code> metadata assigns the channel pressure value to a Faust parameter. When used in a slider/nentry or a bargraph, this metadata will map the UI element value to the {0, 127} range. When used with a button or a checkbox, 1 will be mapped to 127, 0 will be mapped to 0. The first <code>[midi:chanpress]</code> version can receive messages on all channels, and will send on all channels. The second <code>[midi:chanpress chan]</code> version can receive messages on <code>chan</code> only, and will send on the <code>chan</code> channel only (or all channels using the <code>chan = 0</code> value).</p>
<p><strong>Usage</strong></p>
<pre><code>foo = hslider(&quot;foo[midi:chanpress chan]&quot;,...);
</code></pre>
<p>Where:</p>
<ul>
<li><code>chan</code>: optional, the MIDI channel number</li>
</ul>
<p><strong>Example</strong></p>
<p>In the following example, the volume of a sawtooth wave oscillator is controlled by the channel pressure values.</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust5/exfaust5.svg" class="mx-auto d-block">
<faust-editor><!--

import("stdfaust.lib");
vol = hslider("volume[midi:chanpress]",0.5,0,1,0.01) : si.smoo;
process = os.sawtooth(440) * vol;

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<h3 id="midipgm-or-midipgm-chan-metadata"><code>[midi:pgm]</code> or <code>[midi:pgm chan]</code> Metadata</h3>
<p>The <code>[midi:pgm]</code> metadata assigns the program-change to a Faust parameter. When used in a slider/nentry or a bargraph, this metadata will use the UI element range. Only the values described in the UI element range will be used at reception, and can be sent. The first <code>[midi:pgm]</code> version can receive messages on all channels, and will send on all channels. The second <code>[midi:pgm chan]</code> version can receive messages on <code>chan</code> only, and will send on the <code>chan</code> channel only (or all channels using the <code>chan = 0</code> value).</p>
<p><strong>Usage</strong></p>
<pre><code>foo = nentry(&quot;foo[midi:pgm chan]&quot;,...);
</code></pre>
<p>Where:</p>
<ul>
<li><code>chan</code>: optional, the MIDI channel number</li>
</ul>
<p><strong>Example</strong></p>
<p>In the following example, the instrument will be choosen in the {0,3} range.</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust6/exfaust6.svg" class="mx-auto d-block">
<faust-editor><!--

import("stdfaust.lib");
inst = nentry("Instrument[midi:pgm]",0,0,3,1) : int;
process = (os.sawtooth(400),os.osc(400),os.sawtooth(600),os.osc(600)) : ba.selectn(4,inst);

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<h3 id="midipitchwheel-or-midipitchwheel-chan-metadata"><code>[midi:pitchwheel]</code> or <code>[midi:pitchwheel chan]</code> Metadata</h3>
<p>The <code>[midi:pitchwheel]</code> metadata assigns the pitch-wheel value to a Faust parameter. When used in a slider/nentry or a bargraph, this metadata will map the UI element value to the {0, 16383} range. When used with a button or a checkbox, 1 will be mapped to 16383, 0 will be mapped to 0. Pitch-wheel values are typically used to control tuning, mapping the {0, 16383} MIDI range to a {-semitone, semitone} range. The <code>ba.semi2ratio</code> function must be used to convert semitones in a frequency multiplicative ratio. The first <code>[midi:pitchwheel]</code> version can receive messages on all channels, and will send on all channels. The second <code>[midi:pitchwheel chan]</code> version can receive messages on <code>chan</code> only, and will send on the <code>chan</code> channel only (or all channels using the <code>chan = 0</code> value).</p>
<p><strong>Usage</strong></p>
<pre><code>foo = hslider(&quot;foo[midi:pitchwheel chan]&quot;,...);
</code></pre>
<p>Where:</p>
<ul>
<li><code>chan</code>: optional, the MIDI channel number</li>
</ul>
<p><strong>Example</strong></p>
<p>In the following example, the bend of a sawtooth wave oscillator is controlled by the pitch-wheel in the {-2, 2} semitone range, then converted as a frequency multiplicative ratio and multiplied by a given frequency.</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust7/exfaust7.svg" class="mx-auto d-block">
<faust-editor><!--

import("stdfaust.lib");
bend = ba.semi2ratio(hslider("frequency[midi:pitchwheel]",0,-2,2,0.01)) : si.smoo;
process = os.sawtooth(440*bend);

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<h3 id="midistart-metadata"><code>[midi:start]</code> Metadata</h3>
<p>When used with a button or a checkbox, <code>[midi:start]</code> will trigger a value of 1 when a <code>start</code> MIDI message is received. </p>
<p><strong>Usage</strong></p>
<pre><code>foo = checkbox(&quot;foo[midi:start]&quot;);
</code></pre>
<h3 id="midistop-metadata"><code>[midi:stop]</code> Metadata</h3>
<p>When used with a button or a checkbox, <code>[midi:stop]</code> will trigger a value of 0 when a <code>stop</code> MIDI message is received. </p>
<p><strong>Usage</strong></p>
<pre><code>foo = checkbox(&quot;foo[midi:stop]&quot;);
</code></pre>
<h3 id="midiclock-metadata"><code>[midi:clock]</code> Metadata</h3>
<p>When used with a button or a checkbox, <code>[midi:clock]</code> will deliver a sequence of successive 1 and 0 values each time a <code>clock</code> MIDI message is received (seen by Faust code as a square command signal, to be used to compute higher level information).</p>
<p><strong>Usage</strong></p>
<pre><code>foo = checkbox(&quot;foo[midi:clock]&quot;);
</code></pre>
<h3 id="midi-sync">MIDI Sync</h3>
<p>MIDI clock-based synchronization can be used to slave a given Faust program using the metadata presented in the 3 past sections.</p>
<p>A typical Faust program will then use the MIDI clock stream to possibly compute the BPM information, or for any synchronization need it may have.  Here is a simple example of a sinus generated which a frequency controlled by the MIDI clock stream, and starting/stopping when receiving the MIDI start/stop messages:</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust8/exfaust8.svg" class="mx-auto d-block">
<faust-editor><!--

import("stdfaust.lib");

// square signal (1/0), changing state at each received clock
clocker = checkbox("MIDI clock[midi:clock]");    

// ON/OFF button controlled with MIDI start/stop messages
play = checkbox("ON/OFF [midi:start] [midi:stop]");    

// detect front
front(x) = (x-x') != 0.0;      

// count number of peaks during one second
freq(x) = (x-x@ma.SR) : + ~ _;   

process = os.osc(8*freq(front(clocker))) * play;

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<h2 id="midi-polyphony-support">MIDI Polyphony Support</h2>
<p>Polyphony is conveniently handled in Faust directly by Faust Architectures. Note that programming polyphonic instrument completely from scratch in Faust and without relying on architectures is also possible. In fact, this feature is indispensable if complex signal interactions between the different voices have to be described (like sympathetic strings resonance in a physical model, etc.). However, since all voices would always be computed, this approach could be too CPU costly for simpler or more limited needs. In this case describing a single voice in a Faust DSP program and externally combining several of them with a special <em>polyphonic instrument aware</em> architecture file is a better solution. Moreover, this special architecture file takes care of dynamic voice allocation and control MIDI messages decoding and mapping. </p>
<p>Polyphony support can be added to any Faust program (as long as the target architecture supports it) simply by adding the <code>[nvoices:n]</code> metadata to the <a href="#standard-metadata">standard <code>option</code> metadata</a> where <code>n</code> is the maximum number of voices of polyphony to be allocated:</p>
<pre><code>declare options &quot;[nvoices:12]&quot;;
</code></pre>
<h3 id="standard-polyphony-parameters">Standard Polyphony Parameters</h3>
<p>Most Faust architectures allow for the implementation of polyphonic instruments simply by using a set of "standard user interface names." Hence, any Faust program declaring the <code>freq (or key)</code>, <code>gain (or vel or velocity)</code>, and <code>gate</code> parameter is polyphony-compatible. These 3 parameters are directly associated to key-on and key-off events and have the following behavior: </p>
<ul>
<li>When a key-on event is received, <code>gate</code> will be set to 1. Inversely, when a key-off event is received, <code>gate</code> will be set to 0. Therefore, <code>gate</code> is typically used to trigger an envelope, etc.</li>
<li><code>freq</code> is a frequency in Hz computed automatically in function of the value of the pitch contained in a key-on or a key-off message. Alternatively <code>key</code> can be used to get the raw MIDI pitch and describe the pitch to Hz conversion in the DSP code itself (for instance to implement alternative tunings). </li>
<li><code>gain</code> is a linear gain (value between 0-1) computed in function of the velocity value contained in a key-on or a key-off message. Alternatively <code>vel</code> or <code>velocity</code> can be used to get the raw MIDI velocity and describe the velocity to gain conversion in the DSP code itself (for instance to implement alternative velocity curves). </li>
</ul>
<p><strong>Example: Simple Polyphonic Synthesizer</strong></p>
<p>In the following example, the standard <code>freq</code>, <code>gain</code>, and <code>gate</code> parameters are used to implement a simple polyphonic synth.</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust9/exfaust9.svg" class="mx-auto d-block">
<faust-editor><!--

import("stdfaust.lib");
freq = hslider("freq",200,50,1000,0.01);
gain = hslider("gain",0.5,0,1,0.01);
gate = button("gate");
process = os.sawtooth(freq)*gain*gate;

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<blockquote>
<p>Note that if you execute this code in the <a href="https://faustide.grame.fr">Faust Online IDE</a> with polyphony mode activated, you should be able to control this simple synth with any MIDI keyboard connected to your computer. This will only work if you're using Google Chrome (most other browsers are not MIDI-compatible).</p>
</blockquote>
<p>In the next example, the standard <code>key</code>, <code>gain</code>, and <code>gate</code> parameters are used to implement a simple polyphonic synth with alternate tuning.</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust10/exfaust10.svg" class="mx-auto d-block">
<faust-editor><!--

import("stdfaust.lib");
freq = hslider("key",60,36,96,1) : midikey2hz 
with {
    // quarter tone tuning
    midikey2hz(mk) = 440.0*pow(2.0, (mk-69.0)/48.0); 
}; 
gain = hslider("gain",0.5,0,1,0.01);
gate = button("gate");
process = os.sawtooth(freq)*gain*gate;

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<blockquote>
<p>Note that if you execute this code in the <a href="https://faustide.grame.fr">Faust Online IDE</a> with polyphony mode activated, you should be able to control this simple synth with any MIDI keyboard connected to your computer. This will only work if you're using Google Chrome (most other browsers are not MIDI-compatible).</p>
</blockquote>
<p>The previous example can be slightly improved by adding an envelope generator and controlling it with <code>gain</code> and <code>gate</code>: </p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust11/exfaust11.svg" class="mx-auto d-block">
<faust-editor><!--

import("stdfaust.lib");
freq = hslider("freq",200,50,1000,0.01);
gain = hslider("gain",0.5,0,1,0.01);
gate = button("gate");
envelope = en.adsr(0.01,0.01,0.8,0.1,gate)*gain;
process = os.sawtooth(freq)*envelope;

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<p><strong>Warning:</strong> Note that all the active voices of polyphony are added together without scaling! This means that the previous example will likely click if several voices are played at the same time. It is the Faust programmer's responsibility to take this into account in his code. For example, assuming that the number of active voices will always be smaller or equal to 4, the following safeguard could be added to the previous example:</p>
<pre><code>process = os.sawtooth(freq)*envelope : /(4);
</code></pre>
<h3 id="configuring-and-activating-polyphony">Configuring and Activating Polyphony</h3>
<p>Polyphony can be activated <em>manually</em> in some Faust architectures using an option/flag during compilation (e.g., typically <code>-poly</code> or <code>-nvoices &lt;num&gt;</code> in the <a href="https://faustdoc.grame.fr/manual/tools/">faust2xx</a> scripts). That's also how the <a href="https://faustide.grame.fr">Faust Online IDE</a> works where a button can be used to turn polyphony on or off.</p>
<p>However, the most standard way to activate polyphony in Faust is to declare the <code>[nvoices:n]</code> metadata which allows us to specify the maximum number of voices of polyphony (<code>n</code>) that will be allocated in the generated program.</p>
<p>For example, the Faust program from the previous section could be modified such that: </p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust12/exfaust12.svg" class="mx-auto d-block">
<faust-editor><!--

declare options "[midi:on][nvoices:12]";
import("stdfaust.lib");
freq = hslider("freq",200,50,1000,0.01);
gain = hslider("gain",0.5,0,1,0.01);
gate = button("gate");
envelope = en.adsr(0.01,0.01,0.8,0.1,gate)*gain;
process = os.sawtooth(freq)*envelope;

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<!--
> Note that the `[midi:on]` metadata must also be declared in order to be able to control this program with an external MIDI keyboard.
-->

<p>which when compiled running (for example):</p>
<pre><code>faust2jaqt faustProgram.dsp
</code></pre>
<p>will generate a MIDI-controllable polyphonic synthesizer.</p>
<h3 id="audio-effects-and-polyphonic-synthesizer">Audio Effects and Polyphonic Synthesizer</h3>
<p>While audio audio effects can be added directly to the <code>process</code> line of a Faust synthesizer, for example:</p>
<pre><code>process = os.sawtooth(freq)*envelope : reverb;
</code></pre>
<p>it is not a good practice since a new instance of that effect will be created for each active voice of polyphony. The main consequence of this would be an increased CPU cost.</p>
<p>Similarly to <code>process</code>, Faust allows for the declaration of an <code>effect</code> line, which identifies an audio effect to be connected to the output of the polyphonic synthesizer.</p>
<p>For example, a simple reverb can be added to the previous example simply by writing:</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust13/exfaust13.svg" class="mx-auto d-block">
<faust-editor><!--

declare options "[midi:on][nvoices:12]";
import("stdfaust.lib");
freq = hslider("freq",200,50,1000,0.01);
gain = hslider("gain",0.5,0,1,0.01);
gate = button("gate");
envelope = en.adsr(0.01,0.01,0.8,0.1,gate)*gain;
process = os.sawtooth(freq)*envelope <: _,_;
effect = dm.zita_light;

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<p>In this case, the polyphonic part is based on <code>process</code> and a single instance of the effect defined in <code>effect</code> will be created and shared by all voices.</p>
<p>Note that since <a href="TODO"><code>dm.zita_light</code></a> is a stereo effect, the output of <code>process</code> must be split into 2 signals. Also, be aware that this type of construction wont be visible in the corresponding block diagram that will only show what's implemented in the <code>process</code> line.</p>
<!-- TODO: in poly mode, effect should automatically activated -->

<h3 id="polyphony-and-continuous-pitch">Polyphony and Continuous Pitch</h3>
<p>Key-on and key-off MIDI messages only send the "base pitch" of the instance of a note. Hence, if only the <code>freq</code> standard parameter is used to control the frequency of the synthesizer, its pitch will always be "quantized" to the nearest semitone. In order to be able to do glissandi, vibrato, etc., a variable associated to the pitch-wheel needs to be declared and must interact with the "base frequency" value retrieved from <code>freq</code> as such:</p>
<pre><code>f = hslider(&quot;freq&quot;,300,50,2000,0.01);
bend = ba.semi2ratio(hslider(&quot;bend[midi:pitchwheel]&quot;,0,-2,2,0.01));
freq = f*bend; // the &quot;final&quot; freq parameter to be used
</code></pre>
<p>The <code>bend</code> variable is controlled by the pitch-wheel thanks to <a href="#midipitchwheel-metadata"><code>[midi:pitchwheel]</code> metadata</a>, then converted in a frequency ratio using the <code>ba.semi2ratio</code> function. <code>bend</code> is used as a factor multiplied to the base frequency retrieved from <code>freq</code>. Therefore, the default value of <code>bend</code>  is 0 in semitones, which corresponds to the central position of the pitch wheel, and will correspond  to a multiplicative ratio of 1. A value smaller than 0 will decrease the pitch and a value greater than 0 will increase it. </p>
<p>While the above example will have the expected behavior, it is likely that clicking will happen when changing the value of <code>bend</code> since this parameter is not smoothed. Unfortunately, regular smoothing (through the use of <a href="https://faustlibraries.grame.fr/libs/signals/#sismoo"><code>si.smoo</code></a>, for example) is not a good option here. This is due to the fact that instances of polyphonic voices are frozen when a voice is not being used. Since the value of <code>bend</code> might jump from one value to another when a voice is being reactivated/reused, continuous smoothing would probably create an "ugly sweep" in that case. Hence, <a href="https://faustlibraries.grame.fr/libs/signals/#sipolysmooth"><code>si.polySmooth</code></a> should be used in this context instead of <a href="https://faustlibraries.grame.fr/libs/signals/#sismoo"><code>si.smoo</code></a>. This function shuts down smoothing for a given number of samples when a trigger is activated.</p>
<p>Reusing the example from the previous section, we can implement a click-free polyphonic synthesizer with continuous pitch control:</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust14/exfaust14.svg" class="mx-auto d-block">
<faust-editor><!--

declare options "[midi:on][nvoices:12]";
import("stdfaust.lib");
f = hslider("freq",300,50,2000,0.01);
bend = ba.semi2ratio(hslider("bend[midi:pitchwheel]",0,-2,2,0.01)) : si.polySmooth(gate,0.999,1);
gain = hslider("gain",0.5,0,1,0.01);
gate = button("gate");
freq = f*bend; 
envelope = en.adsr(0.01,0.01,0.8,0.1,gate)*gain;
process = os.sawtooth(freq)*envelope <: _,_;
effect = dm.zita_light;

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<p>Observe the usage of <a href="https://faustlibraries.grame.fr/libs/signals/#sismoo"><code>si.polySmooth</code></a> here: when <code>gate=0</code> the signal is not smoothed, when <code>gate=1</code> the signal is smoothed with a factor of 0.999 after one sample.</p>
<h3 id="complete-example-sustain-pedal-and-additional-parameters">Complete Example: Sustain Pedal and Additional Parameters</h3>
<p>Just for fun ;), we improve in this section the example from the previous one by implementing sustain pedal control as well as some modulation controlled by the modulation wheel of the MIDI keyboard. </p>
<p>Sustain pedal control can be easily added simply by declaring a sustain parameter controlled by MIDI CC 64 (which is directly linked to the sustain pedal) and interacting with the standard <code>gate</code> parameter:</p>
<pre><code>s = hslider(&quot;sustain[midi:ctrl 64]&quot;,0,0,1,1);
t = button(&quot;gate&quot;);
gate = t+s : min(1);
</code></pre>
<p>Hence, <code>gate</code> will remain equal to 1 as long as the sustain pedal is pressed.</p>
<p>The simple synthesizer from the previous section (which is literally just a sawtooth oscillator) can be slightly improved by processing it with a dynamically-controlled lowpass filter:</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust15/exfaust15.svg" class="mx-auto d-block">
<faust-editor><!--

declare options "[midi:on][nvoices:12]";
import("stdfaust.lib");
f = hslider("freq",300,50,2000,0.01);
bend = ba.semi2ratio(hslider("bend[midi:pitchwheel]",0,-2,2,0.01)) : si.polySmooth(gate,0.999,1);
gain = hslider("gain",0.5,0,1,0.01);
s = hslider("sustain[midi:ctrl 64]",0,0,1,1);
cutoff = hslider("cutoff[midi:ctrl 1]",1000,50,4000,0.01) : si.smoo;
t = button("gate");
freq = f*bend; 
gate = t+s : min(1);
envelope = en.adsr(0.01,0.01,0.8,0.1,gate)*gain;
process = os.sawtooth(freq)*envelope : fi.lowpass(3,cutoff) <: _,_;
effect = dm.zita_light;

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<p>MIDI CC 1 corresponds to the modulation wheel which is used here to control the cut-off frequency of the lowpass filter.</p>
<p>Next we can add a global master, using the MIDI CC 7 standard volume control to change its level:</p>
<!-- faust-run -->
<div class="faust-run"><img src="exfaust16/exfaust16.svg" class="mx-auto d-block">
<faust-editor><!--

declare options "[midi:on][nvoices:12]";
import("stdfaust.lib");
f = hslider("freq",300,50,2000,0.01);
bend = ba.semi2ratio(hslider("bend[midi:pitchwheel]",0,-2,2,0.01)) : si.polySmooth(gate,0.999,1);
gain = hslider("gain",0.5,0,1,0.01);
master = hslider("master[midi:ctrl 7]",0.5,0,1,0.01);
s = hslider("sustain[midi:ctrl 64]",0,0,1,1);
cutoff = hslider("cutoff[midi:ctrl 1]",1000,50,4000,0.01) : si.smoo;
t = button("gate");
freq = f*bend; 
gate = t+s : min(1);
envelope = en.adsr(0.01,0.01,0.8,0.1,gate)*gain;
process = os.sawtooth(freq)*envelope : fi.lowpass(3,cutoff) * master <: _,_;
effect = dm.zita_light;

--></faust-editor>
<br>
</div>
<!-- /faust-run -->

<!-- Note: the original documentation of polyphony support from the quick reference hasn't been integrated to this new doc. We believe that it scares people more than it helps them. We do think that it would be nice to have a proper description of the C++ implementation of poly-dsp, but this is the wrong place for it. --></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2020-2024 <a href="https://www.grame.fr">Grame-CNCM</a></p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

        <script src="https://cdn.jsdelivr.net/npm/@grame/faust-web-component@0.2.25/dist/faust-web-component.js" defer></script>
    </body>
</html>
