<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <title>Error Messages - Faust Documentation
    </title>
    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/font-awesome.min.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link href="/css/quickref.css" rel="stylesheet">
    <link href="/css/github.min.css" rel="stylesheet">
    <link href="/rail/railroad-diagrams.css" rel="stylesheet">
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <script src="../../js/bootstrap.min.js" defer></script>
    <script src="../../js/MathJax-2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"defer></script>
    <script src="../../js/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>

<body>
    <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="../.."><img
                    src="../../img/faustText.svg" width="150px"> </a>
            <!-- Expander button -->
            <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Expanded navigation -->
            <div id="navbar-collapse" class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li class="navitem">
                        <a href="../.." class="nav-link">Home</a>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Manual <b
                                class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li>
    <a href="../introduction/" class="dropdown-item">Introduction</a>
</li>
                            
<li>
    <a href="../overview/" class="dropdown-item">Overview of the Faust Universe</a>
</li>
                            
<li>
    <a href="../quick-start/" class="dropdown-item">Quick Start</a>
</li>
                            
<li>
    <a href="../syntax/" class="dropdown-item">Faust Syntax</a>
</li>
                            
<li>
    <a href="./" class="dropdown-item active">Error Messages</a>
</li>
                            
<li>
    <a href="../compiler/" class="dropdown-item">Using the Compiler</a>
</li>
                            
<li>
    <a href="../options/" class="dropdown-item">Compiler Options</a>
</li>
                            
<li>
    <a href="../tools/" class="dropdown-item">faust2[...] Tools</a>
</li>
                            
<li>
    <a href="../architectures/" class="dropdown-item">Architecture Files</a>
</li>
                            
<li>
    <a href="../embedding/" class="dropdown-item">Embedding the Compiler</a>
</li>
                            
<li>
    <a href="../optimizing/" class="dropdown-item">Optimizing the Code</a>
</li>
                            
<li>
    <a href="../debugging/" class="dropdown-item">Debugging the Code</a>
</li>
                            
<li>
    <a href="../deploying/" class="dropdown-item">Deploying on the Web</a>
</li>
                            
<li>
    <a href="../remote/" class="dropdown-item">Remote Compilation</a>
</li>
                            
<li>
    <a href="../mathdoc/" class="dropdown-item">Mathematical Documentation</a>
</li>
                            
<li>
    <a href="../osc/" class="dropdown-item">OSC Support</a>
</li>
                            
<li>
    <a href="../http/" class="dropdown-item">HTTP Support</a>
</li>
                            
<li>
    <a href="../midi/" class="dropdown-item">MIDI Support</a>
</li>
                            
<li>
    <a href="../soundfiles/" class="dropdown-item">Soundfiles Support</a>
</li>
                            
<li>
    <a href="../community/" class="dropdown-item">Community</a>
</li>
                            
<li>
    <a href="../faq/" class="dropdown-item">Frequently Asked Questions</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Examples <b
                                class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li>
    <a href="../../examples/ambisonics/" class="dropdown-item"> ambisonics </a>
</li>
                            
<li>
    <a href="../../examples/analysis/" class="dropdown-item"> analysis </a>
</li>
                            
<li>
    <a href="../../examples/bela/" class="dropdown-item"> bela </a>
</li>
                            
<li>
    <a href="../../examples/delayEcho/" class="dropdown-item"> delayEcho </a>
</li>
                            
<li>
    <a href="../../examples/dynamic/" class="dropdown-item"> dynamic </a>
</li>
                            
<li>
    <a href="../../examples/filtering/" class="dropdown-item"> filtering </a>
</li>
                            
<li>
    <a href="../../examples/gameaudio/" class="dropdown-item"> gameaudio </a>
</li>
                            
<li>
    <a href="../../examples/generator/" class="dropdown-item"> generator </a>
</li>
                            
<li>
    <a href="../../examples/misc/" class="dropdown-item"> misc </a>
</li>
                            
<li>
    <a href="../../examples/phasing/" class="dropdown-item"> phasing </a>
</li>
                            
<li>
    <a href="../../examples/physicalModeling/" class="dropdown-item"> physicalModeling </a>
</li>
                            
<li>
    <a href="../../examples/pitchShifting/" class="dropdown-item"> pitchShifting </a>
</li>
                            
<li>
    <a href="../../examples/psychoacoustic/" class="dropdown-item"> psychoacoustic </a>
</li>
                            
<li>
    <a href="../../examples/reverb/" class="dropdown-item"> reverb </a>
</li>
                            
<li>
    <a href="../../examples/SAM/" class="dropdown-item"> SAM </a>
</li>
                            
<li>
    <a href="../../examples/smartKeyboard/" class="dropdown-item"> smartKeyboard </a>
</li>
                            
<li>
    <a href="../../examples/spat/" class="dropdown-item"> spat </a>
</li>
                            
<li>
    <a href="../../rsrc/examples.zip" class="dropdown-item"> Download examples </a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Tutorials <b
                                class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li>
    <a href="../../workshops/2020-04-10-faust-juce/" class="dropdown-item">Faust & JUCE</a>
</li>
                            
<li>
    <a href="../../tutorials/teensy/" class="dropdown-item">DSP on the Teensy With Faust</a>
</li>
                            
<li>
    <a href="../../tutorials/esp32/" class="dropdown-item">DSP on the ESP-32 With Faust</a>
</li>
                            
<li>
    <a href="../../tutorials/basic-osc/" class="dropdown-item">Making a Sine Oscillator From Scratch</a>
</li>
                            
<li>
    <a href="../../tutorials/summation/" class="dropdown-item">RMS and Summation in Faust</a>
</li>
                            
<li>
    <a href="../../tutorials/box-api/" class="dropdown-item">Using the box API</a>
</li>
                            
<li>
    <a href="../../tutorials/signal-api/" class="dropdown-item">Using the signal API</a>
</li>
                            
<li>
    <a href="../../tutorials/julia/" class="dropdown-item">Using Faust in Julia</a>
</li>
                            
<li>
    <a href="../../tutorials/cmajor/" class="dropdown-item">Using Faust in Cmajor</a>
</li>
                            
<li>
    <a href="../../tutorials/jsfx/" class="dropdown-item">Using Faust in JSFX</a>
</li>
                            
<li>
    <a href="../../tutorials/rnbo/" class="dropdown-item">Using Faust in RNBO with codebox~</a>
</li>
                            
<li>
    <a href="../../tutorials/debugging/" class="dropdown-item">Advanced debugging with interp-tracer</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Workshops <b
                                class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li>
    <a href="../../workshops/2018-12-01-paw/" class="dropdown-item"> 2018-12-01 PAW </a>
</li>
                            
<li>
    <a href="../../workshops/2020-03-24-faust-citi/" class="dropdown-item"> 2020-03-24 CITI </a>
</li>
                            
<li>
    <a href="../../workshops/2020-04-10-faust-101/" class="dropdown-item"> 2020-04-10 Faust 101 </a>
</li>
                            
<li>
    <a href="../../workshops/2020-04-10-faust-juce/" class="dropdown-item"> 2020-04-10 Faust & JUCE </a>
</li>
                            
<li>
    <a href="../../workshops/2020-11-21-faust-vcvrack/" class="dropdown-item"> 2020-11-21 Faust & VCV Rack </a>
</li>
                        </ul>
                    </li>
                    <li class="navitem">
                        <a href="../../about/" class="nav-link">About</a>
                    </li>
                </ul>

                <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item">
                        <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fa fa-search"></i> Search
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    

    <div class="container">
        <div class="row"><div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#error-messages" class="nav-link">Error messages</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#syntax-errors" class="nav-link">Syntax errors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#box-connection-errors" class="nav-link">Box connection errors</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#the-five-connections-rules" class="nav-link">The five connections rules</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="4"><a href="#parallel-connection" class="nav-link">Parallel connection</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="4"><a href="#sequencial-connection-error" class="nav-link">Sequencial connection error</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="4"><a href="#split-connection-error" class="nav-link">Split connection error</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="4"><a href="#merge-connection-error" class="nav-link">Merge connection error</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="4"><a href="#recursive-connection-error" class="nav-link">Recursive connection error</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="4"><a href="#route-connection-errors" class="nav-link">Route connection errors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#iterative-constructions" class="nav-link">Iterative constructions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#pattern-matching-errors" class="nav-link">Pattern matching errors</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#multiple-symbol-definition-error" class="nav-link">Multiple symbol definition error</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#loop-detection-error" class="nav-link">Loop detection error</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#signal-related-errors" class="nav-link">Signal related errors</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#automatic-type-promotion" class="nav-link">Automatic type promotion</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#parameter-range-errors" class="nav-link">Parameter range errors</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="4"><a href="#soundfile-usage-error" class="nav-link">Soundfile usage error</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="4"><a href="#delay-primitive-error" class="nav-link">Delay primitive error</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#table-construction-errors" class="nav-link">Table construction errors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="3"><a href="#duplicate-pathname-error" class="nav-link">Duplicate pathname error</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#mathematical-functions-out-of-domain-errors" class="nav-link">Mathematical functions out of domain errors</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="3"><a href="#modulo-primitive-error" class="nav-link">Modulo primitive error</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#fir-and-backends-related-errors" class="nav-link">FIR and backends related errors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#compiler-option-errors" class="nav-link">Compiler option errors</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#warning-messages" class="nav-link">Warning messages</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
            <div class="col-md-9 main-container" role="main">

<h1 id="error-messages">Error messages</h1>
<p>Error messages are typically displayed in the form of compiler errors. They occur when the code cannot be successfully compiled, and typically indicate issues such as syntax errors or semantic errors. They can occur at different stages in the compilation process, possibly with the file and line number where the error occurred (when this information can be retrieved), as well as a brief description of the error. </p>
<p>The compiler is organized in several stages:</p>
<ul>
<li>starting from the DSP source code, the parser builds an internal memory representation of the source program (typically known as an <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">Abstract Source Tree</a>) made here of primitives in the <em>Box language</em>. A first class of errors messages are known as <em>syntax error</em> messages, like missing the <code>;</code> character to end a line, etc. </li>
<li>the next step is to evaluate the definition of <code>process</code> programe entry point. This step is basically a λ-calculus interpreter with a strict evaluation. The result is ”flat” block-diagram where everything have been expanded. The resulting block is type annoatetd to discover its number of inputs and outputs.</li>
<li>the ”flat” block-diagram  is then translated the <em>Signal language</em> where signals as conceptually infinite streams of samples or control values. The box language actually implements the Faust <a href="https://hal.science/hal-02159011v1">Block Diagram Algebra</a>, and not following the connections rules will trigger a second class of errors messages, the <em>box connection errors</em>. Other errors can be produced at this stage when parameters for some primitives are not of the correct type.  </li>
<li>the pattern matching meta language allows to algorithmically create and manipulate block diagrams expressions. So a third class of <em>pattern matching coding errors</em> can occur at this level. </li>
<li>signal expressions are optimized, type annotated (to associate an integer or real type with each signal, but also discovering when signals are to be computed: at init time, control-rate or sample-rate..) to produce a so-called <em>normal-form</em>. A fourth class of <em>parameter range errors</em> or <em>typing errors</em> can occur at this level, like using delays with a non-bounded size, etc.  </li>
<li>signal expressions are then converted in FIR (Faust Imperative Representation), a representation for state based computation (memory access, arithmetic computations, control flow, etc.), to be converted into the final target language (like C/C++, LLVM IR, Rust, WebAssembly, etc.). A fifth class of <em>backend errors</em> can occur at this level, like non supported compilation options for a given backend, etc.</li>
</ul>
<p>Note that the current error messages system is still far from perfect, usually when the origin of the error in the DSP source cannot be properly traced. In this case the file and line number where the error occurred are not displayed, but an internal description of the expression (as a Box of a Signal) is printed.</p>
<h2 id="syntax-errors">Syntax errors</h2>
<p>Those errors happen when the language syntax is not respected. Here are some examples.</p>
<p>The following program:</p>
<pre><code>box1 = 1
box2 = 2;
process = box1,box2;
</code></pre>
<p>will produce the following error message:</p>
<pre><code>errors.dsp : 2 : ERROR : syntax error, unexpected IDENT
</code></pre>
<p>It means that an unexpected identifier as been found line 2 of the file test.dsp. Usually, this error is due to the absence of the semi-column <code>;</code> at the end of the previous line. </p>
<p>The following program:</p>
<pre><code>t1 = _~(+(1);
2 process = t1 / 2147483647;
</code></pre>
<p>will produce the following error message:</p>
<pre><code>errors.dsp : 1 : ERROR : syntax error, unexpected ENDDEF

</code></pre>
<p>The parser finds the end of the definition (<code>;</code>) while searching a closing right parenthesis.</p>
<p>The following program:</p>
<pre><code>process = ffunction;
</code></pre>
<p>will produce the following error message:</p>
<pre><code>errors.dsp : 1 : ERROR : syntax error, unexpected ENDDEF, expecting LPAR
</code></pre>
<p>The parser was expecting a left parenthesis. It identified a keyword of the language that requires arguments.</p>
<p>The following program:</p>
<pre><code>process = +)1);
</code></pre>
<p>will produce the following error message:</p>
<pre><code>errors.dsp : 1 : ERROR : syntax error, unexpected RPAR
</code></pre>
<p>The wrong parenthesis has been used.</p>
<p>The following program:</p>
<pre><code>process = &lt;:+;
</code></pre>
<p>will produce the following error message:</p>
<pre><code>errors.dsp : 1 : ERROR : syntax error, unexpected SPLIT
</code></pre>
<p>The <code>&lt;:</code> split operator is not correctly used, and should have been written <code>process = _&lt;:+;</code>. </p>
<p>The following program:</p>
<pre><code>process = foo;
</code></pre>
<p>will produce the following error message:</p>
<pre><code>errors.dsp : 1 : ERROR : undefined symbol : foo
</code></pre>
<p>This happens when an undefined name is used.</p>
<h2 id="box-connection-errors">Box connection errors</h2>
<p><a href="../syntax/#diagram-expressions">Diagram expressions</a> express how block expressions can be combined to create new ones. The connection rules are precisely defined for each of them and have to be followed for the program to be correct. Remember the <a href="../syntax/#diagram-composition-operations">operator priority</a> when writing more complex expressions.   </p>
<h3 id="the-five-connections-rules">The five connections rules</h3>
<p>A second category of error messages is returned when block expressions are not correctly connected. </p>
<h4 id="parallel-connection">Parallel connection</h4>
<p>Combining two blocks <code>A</code> and <code>B</code> in parallel can never produce a box connection error since the 2 blocks are placed one on top of the other, without connections. The inputs of the resulting block-diagram are the inputs of <code>A</code> and <code>B</code>. The outputs of the resulting block-diagram are the outputs of <code>A</code> and <code>B</code>.</p>
<h4 id="sequencial-connection-error">Sequencial connection error</h4>
<p>Combining two blocks <code>A</code> and <code>B</code> in sequence will produce a box connection error if <code>outputs(A) != inputs(B)</code>. So for instance the following program:</p>
<pre><code>A = _,_;
B = _,_,_;
process = A : B;
</code></pre>
<p>will produce the following error message:</p>
<pre><code>ERROR : sequential composition A:B
The number of outputs [2] of A must be equal to the number of inputs [3] of B

Here  A = _,_;
has 2 outputs

while B = _,_,_;
has 3 inputs
</code></pre>
<h4 id="split-connection-error">Split connection error</h4>
<p>Combining two blocks <code>A</code> and <code>B</code> with the split composition will produce a box connection error if the number of inputs of <code>B</code> is not a multiple of the number of outputs of <code>A</code>. So for instance the following program:</p>
<pre><code>A = _,_;
B = _,_,_;
process = A &lt;: B;
</code></pre>
<p>will produce the following error message:</p>
<pre><code>ERROR : split composition A&lt;:B
The number of outputs [2] of A must be a divisor of the number of inputs [3] of B

Here  A = _,_;
has 2 outputs

while B = _,_,_;
has 3 inputs
</code></pre>
<h4 id="merge-connection-error">Merge connection error</h4>
<p>Combining two blocks <code>A</code> and <code>B</code> with the merge composition will produce a box connection error if the number of outputs of <code>A</code> is not a multiple of the number of inputs of <code>B</code>. So for instance the following program:</p>
<pre><code>A = _,_;
B = _,_,_;
process = A :&gt; B;
</code></pre>
<p>will produce the following error message:</p>
<pre><code>ERROR : merge composition A:&gt;B
The number of outputs [2] of A must be a multiple of the number of inputs [3] of B

Here  A = _,_;
has 2 outputs

while B = _,_,_;
has 3 inputs
</code></pre>
<h4 id="recursive-connection-error">Recursive connection error</h4>
<p>Combining two blocks <code>A</code> and <code>B</code> with the recursive composition will produce a box connection error if the number of outputs of <code>A</code> is less than the number of inputs of <code>B</code>, or the number of outputs of <code>B</code> is more than the number of inputs of <code>A</code> (that is the following <script type="math/tex; mode=display">\mathrm{outputs}(A) \geq \mathrm{inputs}(B) and \mathrm{inputs}(A) \geq \mathrm{outputs}(B)</script> connection rule is not respected). So for instance the following program:</p>
<pre><code>A = _,_;
B = _,_,_;
process = A ~ B;
</code></pre>
<p>will produce the following error message:</p>
<pre><code>ERROR : recursive composition A~B
The number of outputs [2] of A must be at least the number of inputs [3] of B. The number of inputs [2] of A must be at least the number of outputs [3] of B. 

Here  A = _,_;
has 2 inputs and 2 outputs

while B = _,_,_;
has 3 inputs and 3 outputs
</code></pre>
<h4 id="route-connection-errors">Route connection errors</h4>
<p>More complex routing between blocks can also be described using the <a href="../syntax/#route-primitive">route</a> primitive. Two different errors can be produced in case of incorrect coding:  </p>
<pre><code>process = route(+,8.7,(0,0),(0,1));
</code></pre>
<p>will produce the following error message:</p>
<pre><code>ERROR : invalid route expression, first two parameters should be blocks producing a value, third parameter a list of input/output pairs : route(+,8.7f,0,0,0,1)
</code></pre>
<p>And the second one when the parameters are not actually numbers:  </p>
<pre><code>process = route(9,8.7f,0,0,0,button(&quot;foo&quot;));
</code></pre>
<p>will produce the following error message:</p>
<pre><code>ERROR : invalid route expression, parameters should be numbers : route(9,8.7f,0,0,0,button(&quot;foo&quot;))
</code></pre>
<h3 id="iterative-constructions">Iterative constructions</h3>
<p><a href="../syntax/#iterations">Iterations</a> are analogous to <code>for(...)</code> loops in other languages and provide a convenient way to automate some complex block-diagram constructions. All <code>par</code>, <code>seq</code>, <code>sum</code>, <code>prod</code> expressions have the same form, take an identifier as first parameter, a number of iteration as an integer constant numerical expression as second parameter, then an arbitrary block-diagram as third parameter.</p>
<p>The example code:</p>
<pre><code>process = par(+, 2, 8);
</code></pre>
<p>will produce the following syntax error, since the first parameter is not an identifier:</p>
<pre><code>filename.dsp : xx : ERROR : syntax error, unexpected ADD, expecting IDENT
</code></pre>
<p>The example code:</p>
<pre><code>process = par(i, +, 8);
</code></pre>
<p>will produce the following error:</p>
<pre><code>filename.dsp : 1 : ERROR : not a constant expression of type : (0-&gt;1) : +
</code></pre>
<h2 id="pattern-matching-errors">Pattern matching errors</h2>
<p>Pattern matching mechanism allows to algorithmically create and manipulate block diagrams expressions. Pattern matching coding errors can occur at this level.  </p>
<h3 id="multiple-symbol-definition-error">Multiple symbol definition error</h3>
<p>This error happens when a symbol is defined several times in the DSP file:</p>
<pre><code>ERROR : [file foo.dsp : N] : multiple definitions of symbol 'foo'
</code></pre>
<p>Since computation are done at compile time and the pattern matching language is Turing complete, even infinite loops can be produced at compile time and should be detected by the compiler.</p>
<h3 id="loop-detection-error">Loop detection error</h3>
<p>The following (somewhat <em>extreme</em>) code: </p>
<pre><code>foo(x) = foo(x);
process = foo;
</code></pre>
<p>will produce the following error:</p>
<pre><code>ERROR : stack overflow in eval
</code></pre>
<p>and similar kind of infinite loop errors can be produced with more complex code.</p>
<p>[TO COMPLETE]</p>
<h2 id="signal-related-errors">Signal related errors</h2>
<p>Signal expressions are produced from box expressions, are type annotated and finally reduced to a normal-form. Some primitives expect their parameters to follow some constraints, like being in a specific range or being bounded for instance. The domain of mathematical functions is checked and non allowed operations are signaled. </p>
<h3 id="automatic-type-promotion">Automatic type promotion</h3>
<p>Some primitives (like <a href="../syntax/#route-primitive">route</a>, <a href="../syntax/#rdtable-primitive">rdtable</a>, <a href="../syntax/#rwtable-primitive">rwtable</a>...) expect arguments with an integer type, which is automatically promoted, that is the equivalent of <code>int(exp)</code> is internally added and is not necessary in the source code. </p>
<h3 id="parameter-range-errors">Parameter range errors</h3>
<h4 id="soundfile-usage-error">Soundfile usage error</h4>
<p>The soundfile primitive assumes the part number to stay in the [0..255] interval, so for instance the following code: </p>
<pre><code>process = _,0 : soundfile(&quot;foo.wav&quot;, 2);
</code></pre>
<p>will produce the following error:</p>
<pre><code>ERROR : out of range soundfile part number (interval(-1,1,-24) instead of interval(0,255)) in expression : length(soundfile(&quot;foo.wav&quot;),IN[0])
</code></pre>
<h4 id="delay-primitive-error">Delay primitive error</h4>
<p>The delay <code>@</code> primitive assumes that the delay signal value is bounded, so the following expression:</p>
<pre><code>import(&quot;stdfaust.lib&quot;);
process = @(ba.time);
</code></pre>
<p>will produce the following error:</p>
<pre><code>ERROR : can't compute the min and max values of : proj0(letrec(W0 = (proj0(W0)'+1)))@0+-1
        used in delay expression : IN[0]@(proj0(letrec(W0 = (proj0(W0)'+1)))@0+-1)
        (probably a recursive signal)
</code></pre>
<p>[TO COMPLETE]</p>
<h3 id="table-construction-errors">Table construction errors</h3>
<p>The <a href="../syntax/#rdtable-primitive">rdtable</a> primitive can be used to read through a read-only (pre-defined at initialisation time) table. The <a href="../syntax/#rwtable-primitive">rwtable</a> primitive can be used to implement a read/write table. Both have a size computed at compiled time </p>
<p>The <code>rdtable</code> primitive assumes that the table content is produced by a processor with 0 input and one output, known at compiled time. So the following expression:</p>
<pre><code>process = rdtable(9, +, 4);
</code></pre>
<p>will produce the following error, since the <code>+</code>is not of the correct type:</p>
<pre><code>ERROR : checkInit failed for type RSEVN interval(-2,2,-24)
</code></pre>
<p>The same kind of errors will happen when read and write indexes are incorrectly defined in a <code>rwtable</code> primitive. </p>
<h3 id="duplicate-pathname-error">Duplicate pathname error</h3>
<p>Pathnames for different GUI items have to be diffrent. Compiling the following code:</p>
<pre><code>import(&quot;stdfaust.lib&quot;);
nBands = 8;
filterBank(N) = hgroup(&quot;Filter Bank&quot;,seq(i,N,oneBand(i)))
with {
    oneBand(j) = vgroup(&quot;[%j]Band&quot;,fi.peak_eq(l,f,b))
    with {
        a = j+1; // just so that band numbers don't start at 0
        l = vslider(&quot;[2]Level[unit:db]&quot;,0,-70,12,0.01) : si.smoo;
        f = nentry(&quot;[1]Freq&quot;,(80+(1000*8/N*(j+1)-80)),20,20000,0.01) : si.smoo;
        b = f/hslider(&quot;[0]Q[style:knob]&quot;,1,1,50,0.01) : si.smoo;
    };
};
process = filterBank(nBands);
</code></pre>
<p>gives the <code>ERROR : path '/Filter_Bank/Band/Q' is already used</code> message. This is because we typically want to distinguish pathnames to be controlled by OSC messages for instance. So a proper solution would be to rewrite the code with:</p>
<pre><code>import(&quot;stdfaust.lib&quot;);
nBands = 8;
filterBank(N) = hgroup(&quot;Filter Bank&quot;,seq(i,N,oneBand(i)))
with {
    oneBand(j) = vgroup(&quot;[%j]Band %a&quot;,fi.peak_eq(l,f,b))
    with {
        a = j+1; // just so that band numbers don't start at 0
        l = vslider(&quot;[2]Level[unit:db]&quot;,0,-70,12,0.01) : si.smoo;
        f = nentry(&quot;[1]Freq&quot;,(80+(1000*8/N*(j+1)-80)),20,20000,0.01) : si.smoo;
        b = f/hslider(&quot;[0]Q[style:knob]&quot;,1,1,50,0.01) : si.smoo;
    };
};
process = filterBank(nBands);
</code></pre>
<h2 id="mathematical-functions-out-of-domain-errors">Mathematical functions out of domain errors</h2>
<p>Error messages will be produced when the mathematical functions are used outside of their domain, and if the problematic computation is done at compile time. If the out of domain computation may be done at runtime, then a warning can be produced using the <code>-me</code> option (see <a href="#warning-messages">Warning messages</a> section).</p>
<h3 id="modulo-primitive-error">Modulo primitive error</h3>
<p>The modulo <code>%</code> assumes that the denominator is not 0, thus the following code:</p>
<pre><code>process = _%0;
</code></pre>
<p>will produce the following error:</p>
<pre><code>ERROR : % by 0 in IN[0] % 0
</code></pre>
<p>The same kind of errors will be produced for <code>acos</code>, <code>asin</code>, <code>fmod</code>, <code>log10</code>, <code>log</code>, <code>remainder</code> and <code>sqrt</code> functions.</p>
<h2 id="fir-and-backends-related-errors">FIR and backends related errors</h2>
<p>Some primitives of the language are not available in some backends.</p>
<p>The example code:</p>
<pre><code>fun = ffunction(float fun(float), &lt;fun.h&gt;, &quot;&quot;);
process = fun;
</code></pre>
<p>compiled with the wast/wasm backends using: <code>faust -lang wast errors.dsp</code> will produce the following error:</p>
<p><code>ERROR : calling foreign function 'fun' is not allowed in this compilation mode</code></p>
<p>and the same kind of errors would happen also with foreign variables or constants. </p>
<p>[TO COMPLETE]</p>
<h2 id="compiler-option-errors">Compiler option errors</h2>
<p>All compiler options cannot be used with all backends. Moreover, some compiler options can not be combined. These will typically trigger errors, before any compilation actually begins. </p>
<p>[TO COMPLETE]</p>
<h1 id="warning-messages">Warning messages</h1>
<p>Warning messages do not stop the compilation process, but allow to get usefull informations on potential problematic code. The messages can be printed using the <code>-wall</code> compilation option. Mathematical out-of-domain error warning messages are displayed when both <code>-wall</code> and <code>-me</code> options are used.</p></div>
        </div>
    </div>

    <footer class="col-md-12">
        <hr>
        <p>Copyright &copy; 2020-2025 <a href="https://www.grame.fr">Grame-CNCM</a></p>
    </footer>
    <script>
        var base_url = "../..",
        shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
    </script>
    <script src="../../js/base.js" defer></script>
    <script src="/js/faust-web-component.js" defer></script>
    <script src="../../search/main.js" defer></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
